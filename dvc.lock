schema: '2.0'
stages:
  preprocess:
    cmd: python src/data/preprocess.py --raw-dir data/raw --processed-dir 
      data/processed
    deps:
    - path: data/raw
      hash: md5
      md5: 3ab70657c819f03d532454f827afdcf7.dir
      size: 848866410
      nfiles: 24998
    - path: src/data/preprocess.py
      hash: md5
      md5: 91fd3df717403b10f65d5486abd3a3cd
      size: 8534
    outs:
    - path: data/processed
      hash: md5
      md5: 6916aafaed6153aedbd72226c08523d6.dir
      size: 565003735
      nfiles: 24998
  train:
    cmd: python src/training/train.py --config configs/train_config.yaml 
      --data-dir data/processed
    deps:
    - path: configs/train_config.yaml
      hash: md5
      md5: 17c76408cea169da8afcc8fd51f4ae68
      size: 988
    - path: data/processed
      hash: md5
      md5: 6916aafaed6153aedbd72226c08523d6.dir
      size: 565003735
      nfiles: 24998
    - path: src/data/dataset.py
      hash: md5
      md5: d26f80ef9c41061446970308320eba3e
      size: 3282
    - path: src/models/cnn.py
      hash: md5
      md5: 72f4ed74657c07aed9e3dcd17a528e31
      size: 7198
    - path: src/training/train.py
      hash: md5
      md5: 383a37f88e9b8d10b133d1f03e737d2b
      size: 15798
    outs:
    - path: models/best_model.pt
      hash: md5
      md5: 3b24d326e1aa5df92303c24304350de1
      size: 5102581
    - path: models/confusion_matrix.npy
      hash: md5
      md5: bad41c48075bcd05671824088b5281ac
      size: 160
    - path: models/metrics.json
      hash: md5
      md5: aff8510b68fa688498303d55e4360790
      size: 301
  evaluate:
    cmd: python scripts/evaluate.py --model-path models/best_model.pt --data-dir
      data/processed
    deps:
    - path: data/processed/test
      hash: md5
      md5: 95f94789bfb26f47a45672ce461de1df.dir
      size: 56496093
      nfiles: 2502
    - path: models/best_model.pt
      hash: md5
      md5: 3b24d326e1aa5df92303c24304350de1
      size: 5102581
    - path: scripts/evaluate.py
      hash: md5
      md5: 57336711f0b4af574cb8270ea2728d7e
      size: 5846
    outs:
    - path: reports/evaluation_metrics.json
      hash: md5
      md5: d811d56dc517935569ed7fc0ec420491
      size: 209
